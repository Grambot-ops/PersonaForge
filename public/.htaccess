<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /

  # Serve assets with correct MIME types
  <FilesMatch "\.js$">
    AddType application/javascript .js
  </FilesMatch>
  <FilesMatch "\.css$">
    AddType text/css .css
  </FilesMatch>
  <FilesMatch "\.svg$">
    AddType image/svg+xml .svg
  </FilesMatch>

  # Redirect all requests to index.html if file or directory doesn't exist
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule ^ index.html [QSA,L]

  # Cache busting for versioned assets
  <FilesMatch "\.(js|css|svg|png|jpg|jpeg|gif|ico|webp|woff|woff2|ttf|eot)$">
    Header set Cache-Control "public, max-age=31536000, immutable"
  </FilesMatch>
</IfModule>
